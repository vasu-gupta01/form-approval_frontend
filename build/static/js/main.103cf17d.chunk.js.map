{"version":3,"sources":["services/auth.service.js","services/auth-header.js","services/user.service.js","components/Loading.js","components/ExportToExcel.js","components/Home.js","components/ManageUsers.js","components/UserDetails.js","components/FormResult.js","components/Signup.js","components/mod/ManageRoles.js","components/mod/RoleCreate.js","components/mod/DepartmentCreate.js","components/mod/RoleDetails.js","components/mod/ManageForms.js","components/mod/FormDetails.js","components/mod/FormCreate.js","components/HomeMod.js","components/FormApproval.js","components/Login.js","components/Dashboard.js","App.js","index.js","config/config.js"],"names":["API_URL","config","ADDR","username","password","axios","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","firstname","lastname","role","parse","getItem","authHeader","user","body","headers","get","Loading","className","ExportToExcel","apiData","fileName","onClick","e","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","type","Blob","FileSaver","exportToCSV","timeStamp","date1","date2","val","date_val","Date","getTime","Math","floor","DateRange","props","disableClock","maxDate","toDate","value","fromDate","onChange","setHours","setDateChange","format","handleDateChange","ApprovalRequestsList","forms","length","htmlFor","id","handleShowAll","createExcelData","slice","reverse","map","to","_id","style","display","showAll","show","filled_by","date_submitted","form","name","getApprovalStatuses","approval","app","status","message","return_data","f","dis","a","push","approver","obj","concat","Moment","approvals","Home","mDate","state","currentUser","AuthService","getCurrentUser","dbRequests","bind","this","getRequests","UserService","getApprovalRequests","min_date","max_date","res","db_data","d","pending","setState","catch","from","window","location","reload","logout","Component","UsersList","users","pathname","description","ManageUsers","useState","setUsers","useEffect","getUsers","UserDetails","useLocation","roles","setRoles","setFirstname","setLastname","setUsername","setRole","setPassword","clicked_create","setClickedCreate","error","setError","missingField","setMissingField","getRoles","onSubmit","preventDefault","updateApprover","replace","target","disabled","class","aria-hidden","FormResult","Modal","dialogClassName","Header","Title","Body","Footer","as","hideModal","Signup","invalidLogin","handleSignup","handleChange","field","register","selected","RolesList","level","ManageRoles","RoleCreate","department","field_missing","departments","handleCreate","getDepartments","desc","dep","lvl","createRole","placeholder","DepartmentCreate","nm","createDepartment","RoleDetails","setDepartments","setDescription","setName","setLevel","setDepartment","updateRole","FormsList","date_created","finals","ManageForms","setForms","getForms","FormFieldsEdit","fields","setFields","Object","keys","handleFieldNameChange","handleFieldTypeChange","fieldTypes","field_type","checked","required","handleRequiredChange","handleDelete","FormDetails","setFieldTypes","getFieldTypes","new_fields","fields_array","fields_error","console","log","updateForm","autoComplete","field_id","current_fields","new_field","FormCreate","count","counter","handleAdd","handleAddFinalApprover","current_approvers","final_approvers","list_of_approvers","getApprovers","resp","approvers","approvers_array","createForm","exact","path","component","FormApproval","history","useHistory","useParams","formData","setFormData","formDate","setFormDate","formApproved","setFormApproved","formStatus","setFormStatus","formComments","setFormComments","isMounted","getApprovalRequest","comments","err","readOnly","height","request_id","action","updateApproval","Login","handleLogin","onChangeUsername","onChangePassword","login","ApprovalRequestsDisplay","final_approval","approval_date","Dashboard","showDate","loading","today","setDate","getDate","getDateRequests","App","HomeMod","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.103cf17d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport config from \"../config/config\";\n\nconst API_URL = config.ADDR + \"/api/auth/\";\n\nclass AuthService {\n  login(username, password) {\n    return axios\n      .post(API_URL + \"signin\", { username, password })\n      .then((response) => {\n        if (response.data.accessToken) {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  register(username, firstname, lastname, role, password) {\n    return axios.post(API_URL + \"signup\", {\n      username,\n      firstname,\n      lastname,\n      role,\n      password,\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  }\n}\n\nexport default new AuthService();\n","export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  if (user && user.accessToken) {\n    return { \"x-access-token\": user.accessToken };\n  } else {\n    return {};\n  }\n}\n","import axios from \"axios\";\nimport authHeader from \"./auth-header\";\nimport config from \"../config/config\";\n\nconst API_URL = \"/api/\";\n\nclass UserService {\n  getDateRequests(body) {\n    return axios.post(API_URL + \"dashapprovalrequests\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  getApprovalRequests(body) {\n    return axios.post(API_URL + \"getapprovalrequests\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  getUsers() {\n    return axios.get(API_URL + \"getapprovers\", {\n      headers: authHeader(),\n    });\n  }\n\n  getApprovers() {\n    return axios.get(API_URL + \"getapproverswithoutmod\", {\n      headers: authHeader(),\n    });\n  }\n\n  getRoles() {\n    return axios.get(API_URL + \"getroles\", { headers: authHeader() });\n  }\n\n  getDepartments() {\n    return axios.get(API_URL + \"getdepartments\", { headers: authHeader() });\n  }\n\n  updateApproval(body) {\n    return axios.post(API_URL + \"updateapproval\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  updateApprover(body) {\n    return axios.post(API_URL + \"approver/update\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  updateRole(body) {\n    return axios.post(API_URL + \"role/update\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  createRole(body) {\n    return axios.post(API_URL + \"createrole\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  createDepartment(body) {\n    return axios.post(API_URL + \"createdepartment\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  createForm(body) {\n    return axios.post(API_URL + \"createform\", body, { headers: authHeader() });\n  }\n\n  getApprovalRequest(body) {\n    return axios.post(API_URL + \"getapprovalrequest\", body, {\n      headers: authHeader(),\n    });\n  }\n\n  getForms() {\n    return axios.get(API_URL + \"getforms\", { headers: authHeader() });\n  }\n\n  getFieldTypes() {\n    return axios.get(API_URL + \"getfieldtypes\", { headers: authHeader() });\n  }\n\n  updateForm(body) {\n    return axios.post(API_URL + \"updateform\", body, { headers: authHeader() });\n  }\n}\n\nexport default new UserService();\n","import \"bootstrap/dist/css/bootstrap.min.css\";\n\nexport default function Loading() {\n  return (\n    <div className=\"d-flex justify-content-center text-center text-light\">\n      <div className=\"row\">\n        <div className=\"col-12 mb-2\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n        <div className=\"col-12\">\n          <strong className=\"\">Loading...</strong>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// Code snippet from - https://dev.to/jasurkurbanovinit/how-to-export-data-to-excel-from-api-using-react-25go\n\nimport React from \"react\";\nimport * as FileSaver from \"file-saver\";\nimport * as XLSX from \"xlsx\";\n\nexport const ExportToExcel = ({ apiData, fileName }) => {\n  const fileType =\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n  const fileExtension = \".xlsx\";\n\n  const exportToCSV = (apiData, fileName) => {\n    const ws = XLSX.utils.json_to_sheet(apiData);\n    const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n    const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n    const data = new Blob([excelBuffer], { type: fileType });\n    FileSaver.saveAs(data, fileName + fileExtension);\n  };\n\n  return (\n    <button\n      className=\"btn btn-outline-success\"\n      onClick={(e) => exportToCSV(apiData, fileName)}\n    >\n      Export to Excel\n    </button>\n  );\n};\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// import api from \"../utils/api\";\nimport AuthService from \"../services/auth.service\";\nimport UserService from \"../services/user.service\";\n\nimport \"../App.css\";\nimport Loading from \"./Loading\";\nimport { ExportToExcel } from \"./ExportToExcel\";\nimport Moment from \"moment\";\nimport DateTimePicker from \"react-datetime-picker\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    const mDate = new Date();\n    mDate.setHours(0, 0, 0, 0);\n\n    this.state = {\n      currentUser: AuthService.getCurrentUser(),\n      dbRequests: [],\n      showAll: false,\n      fromDate: mDate,\n      toDate: new Date(),\n    };\n\n    this.handleShowAll = this.handleShowAll.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.setDateChange = this.setDateChange.bind(this);\n  }\n\n  componentDidMount() {\n    //    api\n    //      .get(\"/api/getapprovalrequests\")\n    //      .then((res) => {\n    //        if (res.data) {\n    //          this.setState({ dbRequests: res.data });\n    //        }\n    //      })\n    //      .catch();\n    this.getRequests();\n  }\n\n  getRequests() {\n    UserService.getApprovalRequests({\n      min_date: this.state.fromDate,\n      max_date: this.state.toDate,\n    })\n      .then((res) => {\n        if (res.data) {\n          let db_data = [];\n          for (let d of res.data) {\n            let pending = 0;\n            for (let app of d.approval) {\n              if (app.approver._id === AuthService.getCurrentUser().id) {\n                pending += app.status;\n              }\n            }\n            if (pending === 0) {\n              db_data.push({ ...d, show: true });\n            } else {\n              db_data.push({ ...d, show: false });\n            }\n          }\n\n          this.setState({ dbRequests: db_data });\n        }\n      })\n      .catch();\n  }\n\n  handleShowAll() {\n    this.setState({ showAll: !this.state.showAll });\n  }\n\n  handleDateChange() {\n    this.getRequests();\n  }\n\n  setDateChange(from, to) {\n    this.setState({ fromDate: from, toDate: to });\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <nav className=\"row navbar navbar-light bg-dark rounded shadow-lg\">\n            <div className=\"col-4\">\n              <p className=\"navbar-brand text-light mt-1\">\n                Welcome, {AuthService.getCurrentUser().firstname}!\n              </p>\n            </div>\n            <div className=\"col text-end\">\n              <button\n                className=\"btn btn-outline-light\"\n                onClick={() => {\n                  window.location.reload();\n                }}\n              >\n                Home\n              </button>\n              <button\n                className=\"btn btn-outline-danger ms-2\"\n                onClick={() => {\n                  AuthService.logout();\n                  window.location.reload();\n                }}\n              >\n                Logout\n              </button>\n            </div>\n          </nav>\n        </div>\n        <div className=\"container d-flex align-items-center justify-content-center\">\n          <DateRange\n            fromDate={this.state.fromDate}\n            toDate={this.state.toDate}\n            handleDateChange={this.handleDateChange}\n            setDateChange={this.setDateChange}\n          />\n        </div>\n        <div className=\"d-flex align-items-center justify-content-center\">\n          <ApprovalRequestsList\n            forms={this.state.dbRequests}\n            handleShowAll={this.handleShowAll}\n            showAll={this.state.showAll}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction timeStamp(date1, date2) {\n  var val = 0;\n\n  let date_val = new Date(date1);\n\n  val = date2.getTime() - date_val.getTime();\n\n  return Math.floor(val / (1000 * 3600 * 24));\n}\n\nfunction DateRange(props) {\n  return (\n    <div className=\"row\">\n      <div className=\"col-sm-6 col-md-6 col-lg-5 mb-1\">\n        <div>\n          <label className=\"form-label text-light h5 me-1\">From:</label>\n        </div>\n        <DateTimePicker\n          disableClock\n          maxDate={props.toDate}\n          value={props.fromDate}\n          onChange={(val) => {\n            val.setHours(0, 0, 0, 0);\n            props.setDateChange(val, props.toDate);\n            // this.setState({ showDate: val });\n          }}\n          format=\"dd/MM/yyyy\"\n        />\n      </div>\n      <div className=\"col-sm-6 col-md-6 col-lg-5 mb-1\">\n        <div>\n          <label className=\"form-label text-light h5 me-1\">To:</label>\n        </div>\n\n        <DateTimePicker\n          disableClock\n          maxDate={new Date()}\n          value={props.toDate}\n          onChange={(val) => {\n            val.setHours(23, 59, 59, 0);\n            props.setDateChange(props.fromDate, val);\n            // this.setState({ toDate: val });\n          }}\n          format=\"dd/MM/yyyy\"\n        />\n      </div>\n      <div className=\"col-md-2 col-lg-2 mt-lg-4\">\n        <button\n          className=\"btn btn-outline-light\"\n          onClick={props.handleDateChange}\n        >\n          Show\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction ApprovalRequestsList(props) {\n  if (props.forms) {\n    return props.forms.length !== 0 ? (\n      <div>\n        <div className=\"row mb-3 ms-1 me-1 mt-5\">\n          <div className=\"form-check form-switch col-6\">\n            <label\n              className=\"form-check-label text-light h5 ms-1\"\n              htmlFor=\"flexSwitchCheckDefault\"\n            >\n              Show all\n            </label>\n            <input\n              className=\"form-check-input\"\n              type=\"checkbox\"\n              id=\"flexSwitchCheckDefault\"\n              onChange={props.handleShowAll}\n            ></input>\n          </div>\n          <div className=\"col-6\">\n            <ExportToExcel\n              apiData={createExcelData(props.forms)}\n              fileName=\"myfile\"\n            />\n          </div>\n        </div>\n        <div className=\"list-group request-container overflow-auto\">\n          {props.forms\n            .slice(0)\n            .reverse()\n            .map((data) => {\n              return (\n                <Link\n                  to={\"/form/\" + data._id}\n                  className=\"list-group-item list-group-item-action\"\n                  key={\"Link_\" + data._id}\n                  style={{\n                    display: props.showAll || data.show ? \"block\" : \"none\",\n                  }}\n                >\n                  <div\n                    className=\"d-flex w-100 justify-content-between\"\n                    key={\"div_\" + data._id}\n                  >\n                    <h5 className=\"mb-2\">{data.filled_by}</h5>\n                    <small>\n                      {data.date_submitted\n                        ? timeStamp(data.date_submitted, new Date()) +\n                          \" days ago\"\n                        : \"\"}\n                    </small>\n                  </div>\n                  <p className=\"mb-2\">{data.form.name}</p>\n                  {getApprovalStatuses(data.approval).map((app) => {\n                    return (\n                      <span\n                        className={\"badge rounded-pill mb-1 me-2 \" + app.status}\n                      >\n                        {app.message}\n                      </span>\n                    );\n                  })}\n                </Link>\n              );\n            })}\n        </div>\n      </div>\n    ) : (\n      <div className=\"card request-container mb-3 ms-1 me-1 mt-5\">\n        <p className=\"lead m-2 text-center\">No requests to show.</p>\n      </div>\n    );\n  } else {\n    return <Loading></Loading>;\n  }\n}\n\nfunction createExcelData(forms) {\n  let return_data = [];\n\n  for (let f of forms) {\n    let app = [];\n    let dis = [];\n    for (let a of f.approval) {\n      if (a.status === 1) {\n        app.push(a.approver.firstname);\n      } else if (a.status === 2) {\n        dis.push(a.approver.firstname);\n      }\n    }\n\n    let obj = {\n      \"Filled By\": f.filled_by,\n      \"Form Type\": f.form.name,\n      \"Approved By\": \"\".concat(app),\n      \"Dissaproved By\": \"\".concat(dis),\n      \"Date Filled\": Moment(f.date_submitted).format(\"DD/MM/YYYY - h:mm A\"),\n    };\n\n    return_data.push(obj);\n  }\n\n  return return_data;\n}\n\nfunction getApprovalStatuses(approval) {\n  var approvals = [];\n\n  for (let app of approval) {\n    if (app.status === 1) {\n      // console.log(app.status);\n      approvals.push({\n        status: \"bg-success\",\n        message: app.approver.firstname + \" Approved\",\n      });\n    } else if (app.status === 2) {\n      // console.log(app.firstname);\n      approvals.push({\n        status: \"bg-danger\",\n        message: app.approver.firstname + \" Disapproved\",\n      });\n    }\n  }\n\n  if (approvals.length === 0) {\n    approvals.push({\n      status: \"bg-warning\",\n      message: \"Approval Pending\",\n    });\n  }\n\n  return approvals;\n}\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport UserService from \"../services/user.service\";\nimport Loading from \"./Loading\";\n\nfunction ManageUsers(props) {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    UserService.getUsers().then((res) => {\n      if (res.data) {\n        setUsers(res.data);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"mt-2\">\n      <div className=\"row mb-3\">\n        <div className=\"col-12 text-light\">\n          <h4>Manage Approvers</h4>\n        </div>\n\n        <div className=\"col\">\n          <Link to=\"/mod/signup\" className=\"btn btn-outline-light\">\n            + Add approver\n          </Link>\n        </div>\n        <div className=\"col\">\n          <Link to=\"/mod/roles\" className=\"btn btn-outline-light\">\n            Manage Roles\n          </Link>\n        </div>\n      </div>\n      <UsersList users={users} />\n    </div>\n  );\n}\n\nfunction UsersList(props) {\n  if (props.users) {\n    return props.users.length !== 0 ? (\n      <div>\n        <div className=\"list-group request-container overflow-auto\">\n          {props.users\n            .slice(0)\n            .reverse()\n            .map((data) => {\n              return (\n                <Link\n                  to={{ pathname: \"/mod/userdetails\", state: { user: data } }}\n                  className=\"list-group-item list-group-item-action\"\n                  key={\"Link_\" + data._id}\n                >\n                  <div\n                    className=\"d-flex w-100 justify-content-between\"\n                    key={\"div_\" + data._id}\n                  ></div>\n                  <h5>{data.firstname + \" \" + data.lastname}</h5>\n                  <p className=\"mb-2\">Username: {data.username}</p>\n                  <p className=\"mb-2\">Role: {data.role.description}</p>\n                </Link>\n              );\n            })}\n        </div>\n      </div>\n    ) : (\n      <div className=\"card request-container mb-3 ms-1 me-1 mt-5\">\n        <p className=\"lead m-2 text-center\">No users to show.</p>\n      </div>\n    );\n  } else {\n    return <Loading></Loading>;\n  }\n}\n\nexport default ManageUsers;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useLocation } from \"react-router-dom\";\nimport UserService from \"../services/user.service\";\n\nfunction UserDetails(props) {\n  const location = useLocation();\n  const { user } = location.state;\n  const [roles, setRoles] = useState([]);\n\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [clicked_create, setClickedCreate] = useState(false);\n  const [error, setError] = useState(false);\n  const [missingField, setMissingField] = useState(false);\n\n  useEffect(() => {\n    UserService.getRoles().then((res) => {\n      if (res.data) {\n        setRoles(res.data);\n      }\n    });\n    setFirstname(user.firstname);\n    setLastname(user.lastname);\n    setUsername(user.username);\n    setRole(user.role._id);\n  }, []);\n\n  let handleUpdate = (e) => {\n    e.preventDefault();\n    setClickedCreate(true);\n    let body = {};\n    if (username === \"\") {\n      setError(false);\n      setClickedCreate(false);\n      setMissingField(true);\n    } else {\n      setMissingField(false);\n      if (password === \"\") {\n        body = {\n          id: user._id,\n          username: username,\n          firstname: firstname,\n          lastname: lastname,\n          role: role,\n        };\n      } else {\n        body = {\n          id: user._id,\n          username: username,\n          firstname: firstname,\n          lastname: lastname,\n          role: role,\n          password: password,\n        };\n      }\n\n      UserService.updateApprover(body).then(\n        () => {\n          window.location.replace(\"/mod/users\");\n        },\n        (error) => {\n          setClickedCreate(false);\n          setError(true);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"container container-form d-flex align-items-center justify-content-center mt-5\">\n      <form className=\"card bg-light bg-gradient\" onSubmit={handleUpdate}>\n        <div className=\"card-header\">\n          <div className=\"card-title\">\n            <h2 className=\"text-center\">{user.firstname} - User Details</h2>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Firstname:</label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={firstname}\n                onChange={(e) => {\n                  setFirstname(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Lastname:</label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={lastname}\n                onChange={(e) => {\n                  setLastname(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          {user.role.name == \"mod\" ? (\n            \"\"\n          ) : (\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Username:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={username}\n                  onChange={(e) => {\n                    setUsername(e.target.value);\n                  }}\n                />\n              </div>\n            </div>\n          )}\n\n          {user.role.name === \"mod\" ? (\n            \"\"\n          ) : (\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Role:</label>\n              <div className=\"col-sm-8\">\n                <select\n                  type=\"text\"\n                  className=\"form-select\"\n                  value={role}\n                  onChange={(e) => {\n                    setRole(e.target.value);\n                  }}\n                >\n                  {roles.map((role) => {\n                    return (\n                      <option value={role._id}>\n                        {role.name} - {role.description}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            </div>\n          )}\n\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">New Password:</label>\n            <div\n              className=\"col-sm-8\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n            >\n              <input type=\"password\" className=\"form-control\" />\n            </div>\n          </div>\n          {error ? (\n            <strong className=\"text-danger mt-2\">\n              Error submitting request. Check connection.\n            </strong>\n          ) : (\n            \"\"\n          )}\n          {missingField ? (\n            <strong className=\"text-danger\">Username is required.</strong>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col-12 text-end\">\n              {clicked_create ? (\n                <button className=\"btn btn-primary\" type=\"button\" disabled>\n                  <span\n                    class=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  Loading...\n                </button>\n              ) : (\n                <button className=\"btn btn-outline-primary\">Update</button>\n              )}\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default UserDetails;\n","import React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport { Link } from \"react-router-dom\";\n\nfunction FormResult(props) {\n  // const [isOpen, setIsOpen] = useState(false);\n\n  const success = true;\n\n  // useEffect(() => {\n  //   setIsOpen(props.show);\n  // }, [props.show]);\n\n  // const showModal = () => {\n  //   setIsOpen(true);\n  // };\n\n  // const hideModal = () => {\n  //   setIsOpen(false);\n  // };\n\n  return success ? (\n    <Modal show={props.show} dialogClassName=\"modal-dialog-centered\">\n      <div className=\"\">\n        <Modal.Header>\n          <Modal.Title className=\"text-danger bg-gradient\">\n            Login failed\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Please check your username/password.</Modal.Body>\n        <Modal.Footer as=\"footer\">\n          <button className=\"btn btn-outline-dark\" onClick={props.hideModal}>\n            Close\n          </button>\n        </Modal.Footer>\n      </div>\n    </Modal>\n  ) : (\n    <div className=\"container container-form alert alert-danger\" role=\"alert\">\n      <h5 className=\"alert-heading\">Submission failed</h5>\n      <hr />\n      <p className=\"mb-0\">\n        <Link className=\"btn btn-primary\" to=\"/\">\n          Click here\n        </Link>{\" \"}\n        to fill another form\n      </p>\n    </div>\n  );\n}\n\n// const SuccessMessage = () => {\n//   return (\n//     <div className=\"container container-form alert alert-success\" role=\"alert\">\n//       <h5 className=\"alert-heading\">\n//         Your approval request was successfully submitted!\n//       </h5>\n//       <hr />\n//       <p className=\"mb-0\">\n//         <Link className=\"btn btn-outline-dark\" to=\"/\">\n//           Click here\n//         </Link>{\" \"}\n//         to fill another form\n//       </p>\n//     </div>\n//   );\n// };\n\n// function FailureMessage() {}\n\nexport default FormResult;\n","import React, { Component } from \"react\";\n\nimport AuthService from \"../services/auth.service\";\nimport UserService from \"../services/user.service\";\nimport FormResult from \"./FormResult\";\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: \"\",\n      role: \"\",\n      firstname: \"\",\n      lastname: \"\",\n      invalidLogin: false,\n      roles: [],\n    };\n\n    this.handleSignup = this.handleSignup.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    //get roles\n    UserService.getRoles().then((res) => {\n      if (res.data) {\n        this.setState({ roles: res.data });\n      }\n    });\n  }\n\n  handleChange(e, field) {\n    let state = this.state;\n    state[field] = e.target.value;\n\n    this.setState(state);\n  }\n\n  handleSignup(e) {\n    e.preventDefault();\n\n    AuthService.register(\n      this.state.username,\n      this.state.firstname,\n      this.state.lastname,\n      this.state.role,\n      this.state.password\n    ).then(\n      () => {\n        window.location.replace(\"users\");\n      },\n      (error) => {\n        this.setState({ invalidLogin: true });\n      }\n    );\n  }\n\n  hideModal() {\n    this.setState({ invalidLogin: false });\n  }\n\n  render() {\n    const { roles } = this.state;\n    return (\n      <div className=\"container-form mt-5\">\n        <form\n          className=\"card bg-light bg-gradient\"\n          onSubmit={this.handleSignup}\n        >\n          <div className=\"card-header\">\n            <div className=\"card-title\">\n              <h2 className=\"text-center\">Create new approver</h2>\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Username:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"username\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Password:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"password\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Firstname:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"firstname\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Lastname:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"lastname\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Roles:</label>\n              <div className=\"col-sm-8\">\n                <select\n                  className=\"form-select\"\n                  onChange={(e) => this.handleChange(e, \"role\")}\n                >\n                  <option selected value=\"\">\n                    -- role --\n                  </option>\n                  {roles.map((role) => {\n                    return (\n                      <option value={role._id}>\n                        {role.name} - {role.description}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            </div>\n          </div>\n          {/* {this.state.invalidLogin ? \"Invalid Login\" : \"\"} */}\n          <div className=\"card-footer text-end\">\n            <button className=\"btn btn-outline-primary\">Create</button>\n          </div>\n        </form>\n        <FormResult show={this.state.invalidLogin} hideModal={this.hideModal} />\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n","import React, { useEffect, useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport UserService from \"../../services/user.service\";\nimport Loading from \"../Loading\";\n\nfunction ManageRoles(props) {\n  const [roles, setRoles] = useState([]);\n\n  useEffect(() => {\n    UserService.getRoles().then((res) => {\n      if (res.data) {\n        setRoles(res.data);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"mt-2\">\n      <div className=\"row mb-3\">\n        <div className=\"col-12 text-light\">\n          <h4>Roles</h4>\n        </div>\n        <div className=\"col-4\">\n          <Link to=\"/mod/roles/create\" className=\"btn btn-outline-light\">\n            + Add role\n          </Link>\n        </div>\n        <div className=\"col-6\">\n          <Link\n            to=\"/mod/roles/createdepartment\"\n            className=\"btn btn-outline-light\"\n          >\n            + Add department\n          </Link>\n        </div>\n      </div>\n      <RolesList roles={roles} />\n    </div>\n  );\n}\n\nfunction RolesList(props) {\n  if (props.roles) {\n    return props.roles.length !== 0 ? (\n      <div>\n        <div className=\"list-group request-container overflow-auto\">\n          {props.roles\n            .slice(0)\n            .reverse()\n            .map((data) => {\n              if (data.name !== \"mod\") {\n                return (\n                  <Link\n                    to={{\n                      pathname: \"/mod/role/details\",\n                      state: { role: data },\n                    }}\n                    className=\"list-group-item list-group-item-action\"\n                    key={\"Link_\" + data._id}\n                  >\n                    <div\n                      className=\"d-flex w-100 justify-content-between\"\n                      key={\"div_\" + data._id}\n                    ></div>\n                    <h5>{data.description}</h5>\n                    <p className=\"mb-2\">Type: {data.name}</p>\n                    <p className=\"mb-2\">Access Level: {data.level}</p>\n                  </Link>\n                );\n              }\n            })}\n        </div>\n      </div>\n    ) : (\n      <div className=\"card request-container mb-3 ms-1 me-1 mt-5\">\n        <p className=\"lead m-2 text-center\">No roles to show.</p>\n      </div>\n    );\n  } else {\n    return <Loading></Loading>;\n  }\n}\n\nexport default ManageRoles;\n","import React, { Component } from \"react\";\n\nimport UserService from \"../../services/user.service\";\n\nclass RoleCreate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      type: \"\",\n      description: \"\",\n      department: \"\",\n      level: \"\",\n      clicked_create: false,\n      error: false,\n      field_missing: false,\n      departments: [],\n    };\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    UserService.getDepartments().then((res) => {\n      if (res.data) {\n        this.setState({ departments: res.data });\n      }\n    });\n  }\n\n  handleChange(e, field) {\n    let state = this.state;\n    state[field] = e.target.value;\n\n    this.setState(state);\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({ clicked_create: true });\n\n    const type = this.state.type;\n    const desc = this.state.description;\n    const dep = this.state.department;\n    const lvl = this.state.level;\n\n    if (type === \"\" && lvl === \"\") {\n      this.setState({ field_missing: true });\n      this.setState({ clicked_create: false });\n    } else {\n      this.setState({ field_missing: false });\n      UserService.createRole({\n        name: type,\n        description: desc,\n        department: dep,\n        level: lvl,\n      }).then(\n        () => {\n          this.setState({ clicked_create: false });\n          window.location.replace(\"/mod/roles\");\n        },\n        (error) => {\n          this.setState({ clicked_create: false });\n          this.setState({ error: true });\n        }\n      );\n    }\n  }\n\n  render() {\n    const { departments } = this.state;\n    return (\n      <div className=\"container-form mt-5\">\n        <form\n          className=\"card bg-light bg-gradient\"\n          onSubmit={this.handleCreate}\n        >\n          <div className=\"card-header\">\n            <div className=\"card-title\">\n              <h2 className=\"text-center\">Create new roles</h2>\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Type:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  placeholder=\"e.g. HOD\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"type\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Description:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  placeholder=\"e.g. Head of IT\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"description\")}\n                />\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Department:</label>\n              <div className=\"col-sm-8\">\n                <select\n                  className=\"form-select\"\n                  onChange={(e) => this.handleChange(e, \"department\")}\n                >\n                  <option selected value=\"\">\n                    -- department --\n                  </option>\n                  {departments.map((dep) => {\n                    return <option value={dep._id}>{dep.name}</option>;\n                  })}\n                </select>\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Access level:</label>\n              <div className=\"col-sm-8\">\n                <select\n                  className=\"form-select\"\n                  onChange={(e) => this.handleChange(e, \"level\")}\n                >\n                  <option selected value=\"\">\n                    -- access level --\n                  </option>\n                  <option value=\"0\">level 0 -- only view</option>\n                  <option value=\"1\">\n                    level 1 -- view/approve only department requests\n                  </option>\n                  <option value=\"2\">\n                    level 2 -- view/approve all requests\n                  </option>\n                </select>\n              </div>\n            </div>\n            {this.state.error ? (\n              <strong className=\"text-danger mt-2\">\n                Error submitting request. Check connection.\n              </strong>\n            ) : (\n              \"\"\n            )}\n            {this.state.field_missing ? (\n              <strong className=\"text-danger\">\n                Type and Access level fields are required.\n              </strong>\n            ) : (\n              \"\"\n            )}\n          </div>\n\n          <div className=\"card-footer text-end\">\n            {this.state.clicked_create ? (\n              <button className=\"btn btn-primary\" type=\"button\" disabled>\n                <span\n                  class=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n                Loading...\n              </button>\n            ) : (\n              <button className=\"btn btn-outline-primary\">Create</button>\n            )}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RoleCreate;\n","import React, { Component } from \"react\";\n\nimport UserService from \"../../services/user.service\";\n\nclass DepartmentCreate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      clicked_create: false,\n      error: false,\n      field_missing: false,\n    };\n\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleChange(e, field) {\n    let state = this.state;\n    state[field] = e.target.value;\n\n    this.setState(state);\n  }\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({ clicked_create: true });\n\n    const nm = this.state.name;\n\n    if (nm === \"\") {\n      this.setState({ field_missing: true });\n      this.setState({ clicked_create: false });\n    } else {\n      this.setState({ field_missing: false });\n      UserService.createDepartment({\n        name: nm,\n      }).then(\n        () => {\n          this.setState({ clicked_create: false });\n          window.location.replace(\"/mod/roles\");\n        },\n        (error) => {\n          this.setState({ clicked_create: false });\n          this.setState({ error: true });\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container-form mt-5\">\n        <form\n          className=\"card bg-light bg-gradient\"\n          onSubmit={this.handleCreate}\n        >\n          <div className=\"card-header\">\n            <div className=\"card-title\">\n              <h2 className=\"text-center\">Add Department</h2>\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Name:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => this.handleChange(e, \"name\")}\n                />\n              </div>\n            </div>\n\n            {this.state.error ? (\n              <strong className=\"text-danger mt-2\">\n                Error submitting request. Check connection.\n              </strong>\n            ) : (\n              \"\"\n            )}\n            {this.state.field_missing ? (\n              <strong className=\"text-danger\">Name field is required.</strong>\n            ) : (\n              \"\"\n            )}\n          </div>\n\n          <div className=\"card-footer text-end\">\n            {this.state.clicked_create ? (\n              <button className=\"btn btn-primary\" type=\"button\" disabled>\n                <span\n                  class=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n                Loading...\n              </button>\n            ) : (\n              <button className=\"btn btn-outline-primary\">Create</button>\n            )}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default DepartmentCreate;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useLocation } from \"react-router-dom\";\nimport UserService from \"../../services/user.service\";\n\nfunction RoleDetails(props) {\n  const location = useLocation();\n  const { role } = location.state;\n  const [departments, setDepartments] = useState([]);\n\n  const [description, setDescription] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [level, setLevel] = useState(\"\");\n  const [department, setDepartment] = useState(\"\");\n\n  const [clicked_create, setClickedCreate] = useState(false);\n  const [error, setError] = useState(false);\n  const [missingField, setMissingField] = useState(false);\n\n  useEffect(() => {\n    UserService.getDepartments().then((res) => {\n      if (res.data) {\n        setDepartments(res.data);\n      }\n    });\n    setDescription(role.description);\n    setName(role.name);\n    setDepartment(role.department);\n    setLevel(role.level);\n  }, []);\n\n  let handleUpdate = (e) => {\n    e.preventDefault();\n    setClickedCreate(true);\n\n    if (level === \"\" && name == \"\") {\n      setError(false);\n      setClickedCreate(false);\n      setMissingField(true);\n    } else {\n      setMissingField(false);\n\n      const body = {\n        id: role._id,\n        description: description,\n        level: level,\n        name: name,\n        department: department,\n      };\n\n      UserService.updateRole(body).then(\n        () => {\n          window.location.replace(\"/mod/roles\");\n        },\n        (error) => {\n          setClickedCreate(false);\n          setError(true);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"container container-form d-flex align-items-center justify-content-center mt-5\">\n      <form className=\"card bg-light bg-gradient\" onSubmit={handleUpdate}>\n        <div className=\"card-header\">\n          <div className=\"card-title\">\n            <h2 className=\"text-center\">{role.description} - Role Details</h2>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Type:</label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Description:</label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={description}\n                onChange={(e) => {\n                  setDescription(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Department:</label>\n            <div className=\"col-sm-8\">\n              <select\n                type=\"text\"\n                className=\"form-select\"\n                value={department}\n                onChange={(e) => {\n                  setDepartment(e.target.value);\n                }}\n              >\n                <option value=\"\">none</option>\n                {departments.map((dep) => {\n                  return <option value={dep._id}>{dep.name}</option>;\n                })}\n              </select>\n            </div>\n          </div>\n          {role.name === \"mod\" ? (\n            \"\"\n          ) : (\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Access Level:</label>\n              <div className=\"col-sm-8\">\n                <select\n                  type=\"text\"\n                  className=\"form-select\"\n                  value={level}\n                  onChange={(e) => {\n                    setLevel(e.target.value);\n                  }}\n                >\n                  <option value=\"0\">level 0 -- only view</option>\n                  <option value=\"1\">\n                    level 1 -- view/approve only department requests\n                  </option>\n                  <option value=\"2\">\n                    level 2 -- view/approve all requests\n                  </option>\n                </select>\n              </div>\n            </div>\n          )}\n\n          {error ? (\n            <strong className=\"text-danger mt-2\">\n              Error submitting request. Check connection.\n            </strong>\n          ) : (\n            \"\"\n          )}\n          {missingField ? (\n            <strong className=\"text-danger\">\n              Name and Access level is required.\n            </strong>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col-12 text-end\">\n              {clicked_create ? (\n                <button className=\"btn btn-primary\" type=\"button\" disabled>\n                  <span\n                    class=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  Loading...\n                </button>\n              ) : (\n                <button className=\"btn btn-outline-primary\">Update</button>\n              )}\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default RoleDetails;\n","import React, { useEffect, useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport UserService from \"../../services/user.service\";\nimport Loading from \"../Loading\";\nimport Moment from \"moment\";\n\nfunction ManageForms(props) {\n  const [forms, setForms] = useState([]);\n\n  useEffect(() => {\n    UserService.getForms().then((res) => {\n      if (res.data) {\n        setForms(res.data);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"mt-2\">\n      <div className=\"row mb-3\">\n        <div className=\"col-12 text-light\">\n          <h4>Manage Forms</h4>\n        </div>\n        <div className=\"col-4\">\n          <Link to=\"/mod/forms/create\" className=\"btn btn-outline-light\">\n            + Add form\n          </Link>\n        </div>\n      </div>\n      <FormsList forms={forms} />\n    </div>\n  );\n}\n\nfunction FormsList(props) {\n  if (props.forms) {\n    return props.forms.length !== 0 ? (\n      <div>\n        <div className=\"list-group request-container overflow-auto\">\n          {props.forms\n            .slice(0)\n            .reverse()\n            .map((data) => {\n              return (\n                <Link\n                  to={{\n                    pathname: \"/mod/form/details\",\n                    state: { form: data },\n                  }}\n                  className=\"list-group-item list-group-item-action\"\n                  key={\"Link_\" + data._id}\n                >\n                  <div\n                    className=\"d-flex w-100 justify-content-between\"\n                    key={\"div_\" + data._id}\n                  ></div>\n                  <h5>Form Title: {data.name}</h5>\n                  <p className=\"mb-2\">\n                    Date Created:{\" \"}\n                    {Moment(data.date_created).format(\"DD/MM/YYYY - h:mm A\")}\n                  </p>\n                  <p className=\"mb-2\">\n                    Final Approvers:{\" \"}\n                    {data.finals.map((app) => {\n                      return app.firstname + \". \";\n                    })}\n                  </p>\n                  {data.finals.map((app) => {})}\n                </Link>\n              );\n            })}\n        </div>\n      </div>\n    ) : (\n      <div className=\"card request-container mb-3 ms-1 me-1 mt-5\">\n        <p className=\"lead m-2 text-center\">No forms to show.</p>\n      </div>\n    );\n  } else {\n    return <Loading></Loading>;\n  }\n}\n\nexport default ManageForms;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useLocation } from \"react-router-dom\";\nimport UserService from \"../../services/user.service\";\n\nfunction FormDetails(props) {\n  const location = useLocation();\n  const { form } = location.state;\n\n  const [fieldTypes, setFieldTypes] = useState([]);\n\n  const [name, setName] = useState(\"\");\n  const [fields, setFields] = useState({});\n  const [final_approvers, setFinalApprovers] = useState([]);\n\n  const [clicked_create, setClickedCreate] = useState(false);\n  const [error, setError] = useState(false);\n  const [missingField, setMissingField] = useState(false);\n\n  useEffect(() => {\n    UserService.getFieldTypes().then((res) => {\n      if (res.data) {\n        setFieldTypes(res.data);\n      }\n    });\n    let new_fields = {};\n    for (let field of form.fields) {\n      new_fields[field._id] = field;\n    }\n    setFields(new_fields);\n    setName(form.name);\n  }, []);\n\n  let handleFieldTypeChange = (e, field_id) => {\n    let current_fields = fields;\n    current_fields[field_id].type = e.target.value;\n    setFields({ ...fields });\n  };\n\n  let handleFieldNameChange = (e, field_id) => {\n    let current_fields = fields;\n    current_fields[field_id].name = e.target.value;\n    setFields({ ...fields });\n  };\n\n  let handleDelete = (e, field_id) => {\n    e.preventDefault();\n    let current_fields = fields;\n\n    delete current_fields[field_id];\n\n    setFields({ ...fields });\n  };\n\n  let handleAdd = (e) => {\n    e.preventDefault();\n    let current_fields = fields;\n\n    const new_field = {\n      name: \"\",\n      required: false,\n      type: \"\",\n    };\n\n    setFields({ ...fields, new_field });\n  };\n\n  let handleRequiredChange = (e, field_id) => {\n    let current_fields = fields;\n    const value = !current_fields[field_id].required;\n    current_fields[field_id].required = value;\n    setFields({ ...fields });\n  };\n\n  let handleUpdate = (e) => {\n    e.preventDefault();\n    setClickedCreate(true);\n\n    let fields_array = [];\n    let fields_error = false;\n\n    Object.keys(fields).map((f) => {\n      if (fields[f].name === \"\" || fields[f].type === \"\") {\n        console.log(\"found error!\");\n        fields_error = true;\n      }\n      fields_array.push(fields[f]);\n    });\n\n    if (name === \"\" || fields_error) {\n      setError(false);\n      setClickedCreate(false);\n      setMissingField(true);\n    } else {\n      setMissingField(false);\n\n      const body = {\n        id: form._id,\n        name: name,\n        fields: fields_array,\n      };\n\n      UserService.updateForm(body).then(\n        () => {\n          window.location.replace(\"/mod/forms\");\n        },\n        (error) => {\n          setClickedCreate(false);\n          setError(true);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"container container-form d-flex align-items-center justify-content-center mt-5\">\n      <form\n        className=\"container-form card bg-light bg-gradient\"\n        onSubmit={handleUpdate}\n        autoComplete=\"off\"\n      >\n        <div className=\"card-header\">\n          <div className=\"card-title\">\n            <h2 className=\"text-center\">{form.name} - Form Details</h2>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"mb-3 row\">\n            <label className=\"col-sm-4 col-form-label\">Name:</label>\n            <div className=\"col-sm-8\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n              />\n            </div>\n          </div>\n          <FormFieldsEdit\n            fields={fields}\n            fieldTypes={fieldTypes}\n            handleFieldTypeChange={handleFieldTypeChange}\n            handleFieldNameChange={handleFieldNameChange}\n            handleRequiredChange={handleRequiredChange}\n            handleDelete={handleDelete}\n          />\n          <div className=\"mb-3 row text-center\">\n            <div className=\"col-12\">\n              <button\n                className=\"btn btn-outline-success btn-sm\"\n                onClick={handleAdd}\n              >\n                + Add Field\n              </button>\n            </div>\n          </div>\n          {error ? (\n            <strong className=\"text-danger mt-2\">\n              Error submitting request. Check connection.\n            </strong>\n          ) : (\n            \"\"\n          )}\n          {missingField ? (\n            <strong className=\"text-danger\">\n              Form name, field names and types are required fields.\n            </strong>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col-12 text-end\">\n              {clicked_create ? (\n                <button className=\"btn btn-primary\" type=\"button\" disabled>\n                  <span\n                    class=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  Loading...\n                </button>\n              ) : (\n                <button className=\"btn btn-outline-primary\">Update</button>\n              )}\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nfunction FormFieldsEdit(props) {\n  const [fields, setFields] = useState({});\n  // const [fieldChecked, setFieldChecked] = useState({});\n\n  useEffect(() => {\n    setFields(props.fields);\n  }, [props.fields]);\n\n  return (\n    <div className=\"mb-3 row\">\n      <label className=\"col-sm-2 col-form-label\">Fields:</label>{\" \"}\n      {Object.keys(fields).map((id) => {\n        return (\n          <div className=\"row m-1 form-text\">\n            <div className=\"form-floating col-5 mb-1 ps-1\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                value={fields[id].name}\n                onChange={(e) => props.handleFieldNameChange(e, id)}\n                placeholder=\"Field Name\"\n                id=\"inputFieldName\"\n              />\n              <label htmlFor=\"inputFieldName\">Field Name</label>\n            </div>\n            <div className=\"form-floating col-3 mb-1 ps-1\">\n              <select\n                className=\"form-select\"\n                type=\"text\"\n                value={fields[id].type}\n                onChange={(e) => props.handleFieldTypeChange(e, id)}\n                id=\"selectFieldTypes\"\n              >\n                <option value=\"\"></option>\n                {props.fieldTypes.map((field_type) => {\n                  return (\n                    <option key={field_type._id} value={field_type._id}>\n                      {\" \"}\n                      {field_type.name}\n                    </option>\n                  );\n                })}\n              </select>\n              <label htmlFor=\"selectFieldTypes\">Field Type</label>\n            </div>\n            <div className=\"form-check form-switch col-2 m-auto\">\n              <input\n                className=\"form-check-input\"\n                type=\"checkbox\"\n                id=\"flexSwitchCheckDefault\"\n                name={id}\n                checked={fields[id].required}\n                onChange={(e) => {\n                  props.handleRequiredChange(e, id);\n                }}\n              />\n              <label\n                className=\"form-check-label\"\n                htmlFor=\"flexSwitchCheckDefault\"\n              >\n                Required\n              </label>\n            </div>\n            <div className=\"col-2 m-auto text-end\">\n              <button\n                className=\"btn btn-outline-danger btn-sm\"\n                onClick={(e) => props.handleDelete(e, id)}\n              >\n                x\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default FormDetails;\n","import React, { Component, useEffect, useState } from \"react\";\n\nimport UserService from \"../../services/user.service\";\n\nclass FormCreate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      clicked_create: false,\n      error: false,\n      field_missing: false,\n      fields: {},\n      fieldTypes: [],\n      final_approvers: {},\n      list_of_approvers: [],\n      counter: 0,\n    };\n\n    this.handleCreate = this.handleCreate.bind(this);\n\n    this.handleFieldTypeChange = this.handleFieldTypeChange.bind(this);\n    this.handleFieldNameChange = this.handleFieldNameChange.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleAddFinalApprover = this.handleAddFinalApprover.bind(this);\n  }\n\n  componentDidMount() {\n    UserService.getFieldTypes().then((res) => {\n      if (res.data) {\n        console.log(res.data);\n        this.setState({ fieldTypes: res.data });\n      }\n    });\n\n    UserService.getApprovers().then((resp) => {\n      if (resp.data) {\n        let approvers = {};\n\n        resp.data.map((approver) => {\n          approvers[approver._id] = false;\n        });\n\n        this.setState({ final_approvers: approvers });\n        this.setState({ list_of_approvers: resp.data });\n      }\n    });\n  }\n\n  handleFieldTypeChange = (e, field_id) => {\n    let current_fields = this.state.fields;\n    current_fields[field_id].type = e.target.value;\n    this.setState({ fields: current_fields });\n    // setFields({ ...fields });\n  };\n\n  handleFieldNameChange = (e, field_id) => {\n    let current_fields = this.state.fields;\n    current_fields[field_id].name = e.target.value;\n    this.setState({ fields: current_fields });\n    // setFields({ ...fields });\n  };\n\n  handleDelete = (e, field_id) => {\n    e.preventDefault();\n    let current_fields = this.state.fields;\n    const count = this.state.counter;\n\n    delete current_fields[field_id];\n\n    this.setState({ fields: current_fields });\n    this.setState({ counter: count - 1 });\n    // setFields({ ...fields });\n  };\n\n  handleAdd = (e) => {\n    e.preventDefault();\n    let current_fields = this.state.fields;\n    const count = this.state.counter;\n\n    current_fields[count] = {\n      name: \"\",\n      required: false,\n      type: \"\",\n    };\n\n    console.log(current_fields);\n\n    this.setState({ fields: current_fields });\n    this.setState({ counter: count + 1 });\n    // setFields({ ...fields, new_field });\n  };\n\n  handleRequiredChange = (e, field_id) => {\n    let current_fields = this.state.fields;\n    const value = !current_fields[field_id].required;\n    current_fields[field_id].required = value;\n    this.setState({ fields: current_fields });\n    // setFields({ ...fields });\n  };\n\n  handleAddFinalApprover = (e, id) => {\n    let current_approvers = this.state.final_approvers;\n    const value = !current_approvers[id];\n    current_approvers[id] = value;\n\n    this.setState({ final_approvers: current_approvers });\n  };\n\n  handleCreate(e) {\n    e.preventDefault();\n    this.setState({ clicked_create: true });\n\n    const nm = this.state.name;\n    const fields = this.state.fields;\n\n    let fields_array = [];\n    let fields_error = false;\n\n    Object.keys(fields).map((f) => {\n      if (fields[f].name === \"\" || fields[f].type === \"\") {\n        console.log(\"found error!\");\n        fields_error = true;\n      }\n      fields_array.push(fields[f]);\n    });\n\n    if (nm === \"\" || fields_error) {\n      this.setState({ field_missing: true });\n      this.setState({ clicked_create: false });\n    } else {\n      this.setState({ field_missing: false });\n\n      const final_approvers = this.state.final_approvers;\n      let approvers_array = [];\n      Object.keys(final_approvers).map((app) => {\n        if (final_approvers[app]) {\n          approvers_array.push(app);\n        }\n      });\n\n      UserService.createForm({\n        name: nm,\n        fields: fields_array,\n        finals: approvers_array,\n      }).then(\n        () => {\n          this.setState({ clicked_create: false });\n          window.location.replace(\"/mod/forms\");\n        },\n        (error) => {\n          this.setState({ clicked_create: false });\n          this.setState({ error: true });\n        }\n      );\n\n      //   UserService.createDepartment({\n      //     name: nm,\n      //   }).then(\n      //     () => {\n      //       this.setState({ clicked_create: false });\n      //       window.location.replace(\"/mod/roles\");\n      //     },\n      //     (error) => {\n      //       this.setState({ clicked_create: false });\n      //       this.setState({ error: true });\n      //     }\n      //   );\n      // }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container-form mt-5\">\n        <form\n          className=\"card bg-light bg-gradient\"\n          onSubmit={this.handleCreate}\n        >\n          <div className=\"card-header\">\n            <div className=\"card-title\">\n              <h2 className=\"text-center\">Create Form</h2>\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">Form Title:</label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  onChange={(e) => {\n                    this.setState({ name: e.target.value });\n                  }}\n                />\n              </div>\n            </div>\n\n            <FormFieldsEdit\n              fields={this.state.fields}\n              fieldTypes={this.state.fieldTypes}\n              handleFieldTypeChange={this.handleFieldTypeChange}\n              handleFieldNameChange={this.handleFieldNameChange}\n              handleRequiredChange={this.handleRequiredChange}\n              handleDelete={this.handleDelete}\n            />\n            <div className=\"mb-3 row text-center\">\n              <div className=\"col-12\">\n                <button\n                  className=\"btn btn-outline-success btn-sm\"\n                  onClick={this.handleAdd}\n                >\n                  + Add Field\n                </button>\n              </div>\n            </div>\n            <div className=\"mb-3 row\">\n              <label className=\"col-sm-4 col-form-label\">\n                Final Approvers:\n              </label>\n              <div className=\"mb-3 row text-center m-1\">\n                {this.state.list_of_approvers.map((app) => {\n                  return (\n                    <div className=\"form-check col-6 text-start\">\n                      <input\n                        className=\"form-check-input\"\n                        type=\"checkbox\"\n                        checked={this.state.final_approvers[app._id]}\n                        id=\"flexCheckDefault\"\n                        onChange={(e) =>\n                          this.handleAddFinalApprover(e, app._id)\n                        }\n                      />\n                      <label\n                        className=\"form-check-label\"\n                        htmlFor=\"flexCheckDefault\"\n                      >\n                        {app.firstname +\n                          \" \" +\n                          app.lastname +\n                          \" - \" +\n                          app.role.description}\n                      </label>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {this.state.error ? (\n              <strong className=\"text-danger mt-2\">\n                Error submitting request. Check connection.\n              </strong>\n            ) : (\n              \"\"\n            )}\n            {this.state.field_missing ? (\n              <strong className=\"text-danger\">Name field is required.</strong>\n            ) : (\n              \"\"\n            )}\n          </div>\n\n          <div className=\"card-footer text-end\">\n            {this.state.clicked_create ? (\n              <button className=\"btn btn-primary\" type=\"button\" disabled>\n                <span\n                  className=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n                Loading...\n              </button>\n            ) : (\n              <button className=\"btn btn-outline-primary\">Create</button>\n            )}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction FormFieldsEdit(props) {\n  const [fields, setFields] = useState({});\n  // const [fieldChecked, setFieldChecked] = useState({});\n\n  useEffect(() => {\n    setFields(props.fields);\n\n    // let field_checked = {};\n    // for (let field of Object.keys(props.fields)) {\n    //   if (fields[field]) {\n    //     field_checked[field] = fields[field].required;\n    //   }\n    // }\n\n    // setFieldChecked(field_checked);\n  }, [props.fields]);\n\n  // let handleRequiredChange = (e, field_id) => {\n  //   let current_field_checked = fieldChecked;\n  //   const value = !current_field_checked[field_id];\n\n  //   current_field_checked[field_id] = value;\n\n  //   setFieldChecked({ ...fieldChecked });\n  // };\n\n  return (\n    <div className=\"mb-3 row\">\n      <label className=\"col-sm-2 col-form-label\">Fields:</label>{\" \"}\n      <div className=\"row m-1 form-text\">\n        <div className=\"form-floating col-5 mb-1 ps-1\">\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            value=\"Employee Name\"\n            placeholder=\"Field Name\"\n            id=\"inputFieldName\"\n            disabled\n          />\n          <label htmlFor=\"inputFieldName\">Field Name</label>\n        </div>\n        <div className=\"form-floating col-3 mb-1 ps-1\">\n          <select\n            className=\"form-select\"\n            type=\"text\"\n            id=\"selectFieldTypes\"\n            disabled\n          >\n            <option selected>Text</option>\n          </select>\n          <label htmlFor=\"selectFieldTypes\">Field Type</label>\n        </div>\n        <div className=\"form-check form-switch col-2 m-auto\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            id=\"flexSwitchCheckDefault\"\n            checked={true}\n            disabled\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">\n            Required\n          </label>\n        </div>\n      </div>\n      <div className=\"row m-1 form-text\">\n        <div className=\"form-floating col-5 mb-1 ps-1\">\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            value=\"Department\"\n            placeholder=\"Field Name\"\n            id=\"inputFieldName\"\n            disabled\n          />\n          <label htmlFor=\"inputFieldName\">Field Name</label>\n        </div>\n        <div className=\"form-floating col-3 mb-1 ps-1\">\n          <select\n            className=\"form-select\"\n            type=\"text\"\n            id=\"selectFieldTypes\"\n            disabled\n          >\n            <option selected>Dropdown</option>\n          </select>\n          <label htmlFor=\"selectFieldTypes\">Field Type</label>\n        </div>\n        <div className=\"form-check form-switch col-2 m-auto\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            id=\"flexSwitchCheckDefault\"\n            checked={true}\n            disabled\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">\n            Required\n          </label>\n        </div>\n      </div>\n      {Object.keys(fields).map((id) => {\n        return (\n          <div className=\"row m-1 form-text\">\n            <div className=\"form-floating col-5 mb-1 ps-1\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                value={fields[id].name}\n                onChange={(e) => props.handleFieldNameChange(e, id)}\n                placeholder=\"Field Name\"\n                id=\"inputFieldName\"\n              />\n              <label htmlFor=\"inputFieldName\">Field Name</label>\n            </div>\n            <div className=\"form-floating col-3 mb-1 ps-1\">\n              <select\n                className=\"form-select\"\n                type=\"text\"\n                value={fields[id].type}\n                onChange={(e) => props.handleFieldTypeChange(e, id)}\n                id=\"selectFieldTypes\"\n              >\n                <option value=\"\"></option>\n                {props.fieldTypes.map((field_type) => {\n                  return (\n                    <option key={field_type._id} value={field_type._id}>\n                      {\" \"}\n                      {field_type.name}\n                    </option>\n                  );\n                })}\n              </select>\n              <label htmlFor=\"selectFieldTypes\">Field Type</label>\n            </div>\n            <div className=\"form-check form-switch col-2 m-auto\">\n              <input\n                className=\"form-check-input\"\n                type=\"checkbox\"\n                id=\"flexSwitchCheckDefault\"\n                name={id}\n                checked={fields[id].required}\n                onChange={(e) => {\n                  props.handleRequiredChange(e, id);\n                }}\n              />\n              <label\n                className=\"form-check-label\"\n                htmlFor=\"flexSwitchCheckDefault\"\n              >\n                Required\n              </label>\n            </div>\n            <div className=\"col-2 m-auto text-end\">\n              <button\n                className=\"btn btn-outline-danger btn-sm\"\n                onClick={(e) => props.handleDelete(e, id)}\n              >\n                x\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default FormCreate;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Component } from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\n// import api from \"../utils/api\";\nimport AuthService from \"../services/auth.service\";\nimport UserService from \"../services/user.service\";\n\nimport \"../App.css\";\nimport Loading from \"./Loading\";\nimport ManageUsers from \"./ManageUsers\";\nimport UserDetails from \"./UserDetails\";\nimport Signup from \"./Signup\";\nimport ManageRoles from \"./mod/ManageRoles\";\nimport RoleCreate from \"./mod/RoleCreate\";\nimport DepartmentCreate from \"./mod/DepartmentCreate\";\nimport RoleDetails from \"./mod/RoleDetails\";\nimport ManageForms from \"./mod/ManageForms\";\nimport FormDetails from \"./mod/FormDetails\";\nimport FormCreate from \"./mod/FormCreate\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentUser: AuthService.getCurrentUser(),\n      dbRequests: [],\n      showAll: false,\n    };\n\n    this.handleShowAll = this.handleShowAll.bind(this);\n  }\n\n  componentDidMount() {\n    //    api\n    //      .get(\"/api/getapprovalrequests\")\n    //      .then((res) => {\n    //        if (res.data) {\n    //          this.setState({ dbRequests: res.data });\n    //        }\n    //      })\n    //      .catch();\n    UserService.getApprovalRequests()\n      .then((res) => {\n        if (res.data) {\n          let db_data = [];\n          for (let d of res.data) {\n            let pending = 0;\n            for (let app of d.approval) {\n              if (app.approver._id === AuthService.getCurrentUser().id) {\n                pending += app.status;\n              }\n            }\n            if (pending === 0) {\n              db_data.push({ ...d, show: true });\n            } else {\n              db_data.push({ ...d, show: false });\n            }\n          }\n\n          this.setState({ dbRequests: db_data });\n        }\n      })\n      .catch();\n  }\n\n  handleShowAll() {\n    this.setState({ showAll: !this.state.showAll });\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <nav className=\"row navbar navbar-light bg-dark rounded shadow-lg\">\n            <div className=\"col-4\">\n              <p className=\"navbar-brand text-light mt-1\">\n                Welcome, {AuthService.getCurrentUser().firstname}!\n              </p>\n            </div>\n            <div className=\"col text-end\">\n              <Link className=\"btn btn-outline-light\" to=\"/\">\n                Home\n              </Link>\n              <Link to=\"/mod/users\" className=\"btn btn-outline-info ms-2\">\n                Manage Approvers\n              </Link>\n              <Link to=\"/mod/forms\" className=\"btn btn-outline-info ms-2\">\n                Manage Forms\n              </Link>\n              <button\n                className=\"btn btn-outline-danger ms-2\"\n                onClick={() => {\n                  AuthService.logout();\n                  window.location.replace(\"/\");\n                }}\n              >\n                Logout\n              </button>\n            </div>\n          </nav>\n        </div>\n        <div className=\"d-flex align-items-center justify-content-center\">\n          <Switch>\n            <Route\n              exact\n              path=\"/mod/userdetails\"\n              component={() => <UserDetails />}\n            />\n            <Route\n              exact\n              path=\"/mod/role/details\"\n              component={() => <RoleDetails />}\n            />\n            <Route exact path=\"/mod/signup\" component={() => <Signup />} />\n            <Route exact path=\"/mod/users\" component={() => <ManageUsers />} />\n            <Route exact path=\"/mod/roles\" component={() => <ManageRoles />} />\n            <Route exact path=\"/mod/forms\" component={() => <ManageForms />} />\n\n            <Route\n              exact\n              path=\"/mod/roles/create\"\n              component={() => <RoleCreate />}\n            />\n            <Route\n              exact\n              path=\"/mod/form/details\"\n              component={() => <FormDetails />}\n            />\n            <Route\n              exact\n              path=\"/mod/roles/createdepartment\"\n              component={() => <DepartmentCreate />}\n            />\n            <Route\n              exact\n              path=\"/mod/forms/create\"\n              component={() => <FormCreate />}\n            />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction timeStamp(date1, date2) {\n  var val = 0;\n\n  let date_val = new Date(date1);\n\n  val = date2.getTime() - date_val.getTime();\n\n  return Math.floor(val / (1000 * 3600 * 24));\n}\n\nfunction ApprovalRequestsList(props) {\n  if (props.forms) {\n    return props.forms.length !== 0 ? (\n      <div>\n        <div className=\"row mb-3 ms-1 me-1 mt-5\">\n          <div className=\"form-check form-switch col-6\">\n            <label\n              className=\"form-check-label text-light h5 ms-1\"\n              htmlFor=\"flexSwitchCheckDefault\"\n            >\n              Show all\n            </label>\n            <input\n              className=\"form-check-input\"\n              type=\"checkbox\"\n              id=\"flexSwitchCheckDefault\"\n              onChange={props.handleShowAll}\n            ></input>\n          </div>\n          <div className=\"col-6 text-end\">\n            <button className=\"btn btn-outline-success\">Export to Excel</button>\n          </div>\n        </div>\n        <div className=\"list-group request-container overflow-auto\">\n          {props.forms\n            .slice(0)\n            .reverse()\n            .map((data) => {\n              return (\n                <Link\n                  to={\"/form/\" + data._id}\n                  className=\"list-group-item list-group-item-action\"\n                  key={\"Link_\" + data._id}\n                  style={{\n                    display: props.showAll || data.show ? \"block\" : \"none\",\n                  }}\n                >\n                  <div\n                    className=\"d-flex w-100 justify-content-between\"\n                    key={\"div_\" + data._id}\n                  >\n                    <h5 className=\"mb-2\">{data.filled_by}</h5>\n                    <small>\n                      {data.date_submitted\n                        ? timeStamp(data.date_submitted, new Date()) +\n                          \" days ago\"\n                        : \"\"}\n                    </small>\n                  </div>\n                  <p className=\"mb-2\">{data.form.name}</p>\n                  {getApprovalStatuses(data.approval).map((app) => {\n                    return (\n                      <span\n                        className={\"badge rounded-pill mb-1 me-2 \" + app.status}\n                      >\n                        {app.message}\n                      </span>\n                    );\n                  })}\n                </Link>\n              );\n            })}\n        </div>\n      </div>\n    ) : (\n      <div className=\"card request-container mb-3 ms-1 me-1 mt-5\">\n        <p className=\"lead m-2 text-center\">No requests to show.</p>\n      </div>\n    );\n  } else {\n    return <Loading></Loading>;\n  }\n}\n\nfunction getApprovalStatuses(approval) {\n  var approvals = [];\n\n  for (let app of approval) {\n    if (app.status === 1) {\n      // console.log(app.status);\n      approvals.push({\n        status: \"bg-success\",\n        message: app.approver.firstname + \" Approved\",\n      });\n    } else if (app.status === 2) {\n      // console.log(app.firstname);\n      approvals.push({\n        status: \"bg-danger\",\n        message: app.approver.firstname + \" Disapproved\",\n      });\n    }\n  }\n\n  if (approvals.length === 0) {\n    approvals.push({\n      status: \"bg-warning\",\n      message: \"Approval Pending\",\n    });\n  }\n\n  return approvals;\n}\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport Moment from \"moment\";\n\nimport Loading from \"./Loading\";\n// import api from \"../utils/api\";\nimport AuthService from \"../services/auth.service\";\nimport UserService from \"../services/user.service\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction FormApproval(props) {\n  //   constructor(props) {\n  //     super(props);\n\n  //     this.state = { name: \"\", formFields: [], formData: [], done: false };\n  //   }\n  const history = useHistory();\n  const { id } = useParams();\n  const [formData, setFormData] = useState([]);\n  const [formDate, setFormDate] = useState(\"\");\n  const [formApproved, setFormApproved] = useState(false);\n  const [formStatus, setFormStatus] = useState(0);\n  const [formComments, setFormComments] = useState(\"\");\n\n  useEffect(\n    () => {\n      let isMounted = true;\n      // api\n      //   .get(`/api/getform/${id}`)\n      //   .then((res) => {\n      //     if (res.data && isMounted) {\n      //       setFormData(res.data);\n      //       if (res.data.date_filled) {\n      //         setFormDate(Moment(res.data.date_filled).format(\"DD-MM-YYYY\"));\n      //       }\n      //     }\n      //   })\n      //   .catch((err) => console.log(err));\n\n      const body = {\n        id: id,\n        approver: AuthService.getCurrentUser().id,\n      };\n\n      UserService.getApprovalRequest(body)\n        .then((res) => {\n          if (res.data && isMounted) {\n            setFormData(res.data);\n            if (res.data.date_submitted) {\n              setFormDate(\n                Moment(res.data.date_submitted).format(\"DD/MM/YYYY - h:mm A\")\n              );\n            }\n            if (res.data.approval) {\n              if (res.data.approval.status === 0) {\n                setFormApproved(false);\n                setFormStatus(0);\n                console.log(\"Form not approved\");\n              } else {\n                setFormApproved(true);\n                setFormStatus(res.data.approval.status);\n                setFormComments(res.data.approval.comments);\n                console.log(\"Form already approved!\");\n              }\n            } else {\n              setFormStatus(-1);\n              console.log(\"MOD\");\n            }\n          }\n        })\n        .catch((err) => console.log(err));\n\n      return () => {\n        isMounted = false;\n      };\n    },\n    [id],\n    [formApproved],\n    [formData]\n  );\n\n  function handleApproval(e) {\n    e.preventDefault();\n    const body = {\n      request_id: id,\n      approver: AuthService.getCurrentUser().id,\n      action: 1,\n      comments: formComments,\n    };\n\n    UserService.updateApproval(body).then(() => {\n      setFormApproved(true);\n      setFormStatus(1);\n    });\n  }\n\n  function handleDisapproval(e) {\n    e.preventDefault();\n    const body = {\n      request_id: id,\n      approver: AuthService.getCurrentUser().id,\n      action: 2,\n      comments: formComments,\n    };\n\n    console.log(body);\n\n    UserService.updateApproval(body).then(() => {\n      setFormApproved(true);\n      setFormStatus(2);\n    });\n  }\n\n  function handleComments(e) {\n    setFormComments(e.target.value);\n  }\n\n  return formData.length === 0 ? (\n    <Loading />\n  ) : (\n    <div className=\"container-fluid\">\n      <nav className=\"row navbar navbar-light bg-dark rounded shadow-lg\">\n        <div className=\"col-4 text-light\">\n          <p className=\"navbar-brand text-light mt-1\">\n            Welcome, {AuthService.getCurrentUser().firstname}!\n          </p>\n        </div>\n        <div className=\"col text-end\">\n          <button\n            className=\"btn btn-outline-light\"\n            onClick={() => {\n              history.push(\"/\");\n            }}\n          >\n            Home\n          </button>\n          <button\n            className=\"btn btn-outline-danger ms-2\"\n            onClick={() => {\n              AuthService.logout();\n              history.push(\"/\");\n              window.location.reload();\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </nav>\n      <div className=\"container d-flex align-items-center justify-content-center mt-5\">\n        <div className=\"container-form\">\n          <form className=\"card bg-light bg-gradient\">\n            <div className=\"card-header\">\n              <div className=\"card-title\">\n                <h2 className=\"text-center\">\n                  {formData.form.name} - Approval Request\n                </h2>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"mb-3 row\">\n                <label className=\"col-sm-4 col-form-label\">\n                  Employee Name:\n                </label>\n                <div className=\"col-sm-8\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={formData.filled_by}\n                    readOnly\n                  />\n                </div>\n              </div>\n              {/* <div className=\"mb-3 row\">\n                <label className=\"col-sm-4 col-form-label\">Department</label>\n                <div className=\"col-sm-8\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={formData.department}\n                    readOnly\n                  />\n                </div>\n              </div> */}\n              {formData.fields.map((field) => {\n                return (\n                  <div key={\"div_\" + field._id} className=\"mb-3 row\">\n                    <label\n                      key={\"label_\" + field._id}\n                      className=\"col-sm-4 col-form-label\"\n                    >\n                      {field.name}:\n                    </label>\n                    <div className=\"col-sm-8\">\n                      {field.name === \"Time Out\" ? (\n                        <input\n                          key={field._id}\n                          type=\"text\"\n                          className=\"form-control\"\n                          value={Moment(field.value).format(\n                            \"DD/MM/YYYY - h:mm A\"\n                          )}\n                          readOnly\n                        />\n                      ) : (\n                        <input\n                          key={field._id}\n                          type=\"text\"\n                          className=\"form-control\"\n                          value={field.value}\n                          readOnly\n                        />\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n\n              <div className=\"mb-3 row\">\n                <label className=\"col-sm-4 col-form-label\">Date filled:</label>\n                <div className=\"col-sm-8\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={formDate}\n                    readOnly\n                  />\n                </div>\n              </div>\n            </div>\n            {formStatus != -1 ? (\n              formApproved ? (\n                <div className=\"card-footer row\">\n                  <p className=\"lead m-2 text-center mb-3\">\n                    This approval request was{\" \"}\n                    {formStatus === 1 ? (\n                      <strong className=\"text-success\">approved </strong>\n                    ) : (\n                      <strong className=\"text-danger\">disapproved </strong>\n                    )}\n                    by you.\n                  </p>\n                  <label className=\"col-sm-4 col-form-label mb-3\">\n                    Comments:\n                  </label>\n                  <div className=\"col-sm-8\">\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      value={formComments}\n                      readOnly\n                    />\n                  </div>\n                </div>\n              ) : (\n                <div className=\"card-footer\">\n                  <div className=\"form-floating mb-3\">\n                    <textarea\n                      className=\"form-control\"\n                      placeholder=\"comments\"\n                      id=\"floatingTextarea\"\n                      style={{ height: \"100px\", \"max-height\": \"100px\" }}\n                      onChange={handleComments}\n                    ></textarea>\n                    <label className=\"text-muted\" htmlFor=\"floatingTextarea\">\n                      Leave a comment here\n                    </label>\n                  </div>\n\n                  <div className=\"row\">\n                    <div className=\"col-6 text-left\">\n                      <button\n                        className=\"btn btn-outline-danger\"\n                        onClick={handleDisapproval}\n                      >\n                        Disapprove\n                      </button>\n                    </div>\n                    <div className=\"col-6 text-end\">\n                      <button\n                        className=\"btn btn-outline-success\"\n                        onClick={handleApproval}\n                      >\n                        Approve\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            ) : (\n              <div> MOD</div>\n            )}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FormApproval;\n","import React, { Component } from \"react\";\n\nimport AuthService from \"../services/auth.service\";\nimport FormResult from \"./FormResult\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: \"\",\n      invalidLogin: false,\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value,\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n\n    AuthService.login(this.state.username, this.state.password).then(\n      () => {\n        // this.props.history.push(\"/home\");\n        window.location.reload();\n      },\n      (error) => {\n        this.setState({ invalidLogin: true });\n      }\n    );\n  }\n\n  hideModal() {\n    this.setState({ invalidLogin: false });\n  }\n\n  render() {\n    return (\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"row justify-content-center text-center\">\n          <div className=\"col mb-5\">\n            <Link to=\"/dashboard\" className=\"btn btn-outline-warning btn-lg\">\n              Status Dashboard\n            </Link>\n          </div>\n        </div>\n        <div className=\"container-form \">\n          <form\n            className=\"card bg-light bg-gradient\"\n            onSubmit={this.handleLogin}\n          >\n            <div className=\"card-header\">\n              <div className=\"card-title\">\n                <h2 className=\"text-center\">Approver Login</h2>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"mb-3 row\">\n                <label className=\"col-sm-4 col-form-label\">Username:</label>\n                <div className=\"col-sm-8\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    onChange={this.onChangeUsername}\n                  />\n                </div>\n              </div>\n              <div className=\"mb-3 row\">\n                <label className=\"col-sm-4 col-form-label\">Password:</label>\n                <div className=\"col-sm-8\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    onChange={this.onChangePassword}\n                  />\n                </div>\n              </div>\n            </div>\n            {/* {this.state.invalidLogin ? \"Invalid Login\" : \"\"} */}\n            <div className=\"card-footer text-end\">\n              <button className=\"btn btn-primary\">Login</button>\n            </div>\n          </form>\n          <FormResult\n            show={this.state.invalidLogin}\n            hideModal={this.hideModal}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// import api from \"../utils/api\";\nimport AuthService from \"../services/auth.service\";\nimport UserService from \"../services/user.service\";\n\nimport \"../App.css\";\nimport Loading from \"./Loading\";\nimport { ExportToExcel } from \"./ExportToExcel\";\nimport Moment from \"moment\";\nimport DateTimePicker from \"react-datetime-picker\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    const mDate = new Date();\n    mDate.setHours(0, 0, 0, 0);\n\n    this.state = {\n      dbRequests: [],\n      showDate: mDate,\n      fromDate: new Date(),\n      toDate: new Date(),\n      loading: true,\n      error: false,\n    };\n\n    this.handleShowAll = this.handleShowAll.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n  }\n\n  componentDidMount() {\n    const mDate = this.state.showDate;\n    mDate.setHours(0, 0, 0, 0);\n\n    const today = new Date();\n    today.setDate(today.getDate() + 1);\n\n    this.getRequests();\n  }\n\n  getRequests() {\n    this.setState({ error: false });\n    this.setState({ loading: true });\n\n    const mDate = this.state.showDate;\n    // mDate.setHours(0, 0, 0, 0);\n\n    // const today = new Date();\n    // today.setDate(today.getDate() + 1);\n    const to = this.state.toDate;\n\n    UserService.getDateRequests({\n      min_date: mDate,\n      max_date: to,\n    })\n      .then((res) => {\n        if (res.data) {\n          this.setState({ dbRequests: res.data });\n          this.setState({ loading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  handleShowAll() {\n    this.setState({ showAll: !this.state.showAll });\n  }\n\n  handleDateChange(from) {\n    // switch (e.target.value) {\n    //   case \"0\":\n    //     this.setState({ showDate: new Date() }, () => {\n    //       this.getRequests();\n    //     });\n    //     break;\n    //   case \"1\":\n    //     const date = new Date();\n    //     const month = new Date(date.getFullYear(), date.getMonth(), 1);\n    //     this.setState({ showDate: month }, () => {\n    //       this.getRequests();\n    //     });\n    //     break;\n    //   case \"2\":\n    //     const new_date = new Date(1900, 1, 1);\n    //     this.setState({ showDate: new_date }, () => {\n    //       this.getRequests();\n    //     });\n    //     break;\n    // }\n    this.getRequests();\n  }\n\n  render() {\n    const { dbRequests } = this.state;\n\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <nav className=\"row navbar justify-content-center text-end pt-4\">\n            <div className=\"col-sm-6 col-md-5 col-lg-3 mb-2\">\n              <label className=\"form-label text-light h5 me-2\">From:</label>\n              <DateTimePicker\n                disableClock\n                maxDate={this.state.toDate}\n                value={this.state.showDate}\n                onChange={(val) => {\n                  val.setHours(0, 0, 0, 0);\n                  this.setState({ showDate: val });\n                }}\n                format=\"dd/MM/yyyy\"\n              />\n            </div>\n            <div className=\"col-sm-6 col-md-5 col-lg-3 mb-2\">\n              <label className=\"form-label text-light h5 me-2\">To:</label>\n              <DateTimePicker\n                disableClock\n                maxDate={new Date()}\n                value={this.state.toDate}\n                onChange={(val) => {\n                  val.setHours(23, 59, 59, 0);\n                  this.setState({ toDate: val });\n                }}\n                format=\"dd/MM/yyyy\"\n              />\n            </div>\n            <div className=\"col-2\">\n              <button\n                className=\"btn btn-outline-light\"\n                onClick={this.handleDateChange}\n              >\n                Show\n              </button>\n            </div>\n            {this.state.error ? (\n              <strong className=\"text-danger col mt-4\">\n                There was an error fetching requests. Check network connection\n                and refresh page.\n              </strong>\n            ) : (\n              \"\"\n            )}\n          </nav>\n        </div>\n        <div className=\" align-items-center mt-4\">\n          {this.state.loading ? (\n            <Loading />\n          ) : (\n            <ApprovalRequestsDisplay forms={dbRequests} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction timeStamp(date1, date2) {\n  var val = 0;\n\n  let date_val = new Date(date1);\n\n  val = date2.getTime() - date_val.getTime();\n\n  return Math.floor(val / (1000 * 3600 * 24));\n}\n\nfunction ApprovalRequestsDisplay(props) {\n  if (props.forms) {\n    return (\n      <div className=\"row\">\n        {props.forms.map((form) => {\n          if (form.final_approval === 0) {\n          } else {\n            return (\n              <div className=\"col-sm-12 col-md-6 col-lg-6\">\n                <div className=\"card m-2\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\">\n                      Employee Name: {form.filled_by}\n                    </h5>\n                    <h6 className=\"card-subtitle mb-2 text-muted\">\n                      Time Submitted:{\" \"}\n                      {Moment(form.date_submitted).format(\n                        \"DD/MM/YYYY - h:mm A\"\n                      )}\n                    </h6>\n                    <h6 className=\"card-subtitle mb-2 text-muted\">\n                      Time of Approval:{\" \"}\n                      {Moment(form.approval_date).format(\"DD/MM/YYYY - h:mm A\")}\n                    </h6>\n                    <p className=\"card-text text-muted\">\n                      Form Type: {form.form.name}\n                    </p>\n                    <p className=\"card-text\">\n                      {form.final_approval === 1 ? (\n                        <h4>\n                          <span className=\"badge rounded-pill mb-1 me-2 bg-success\">\n                            Approved\n                          </span>\n                        </h4>\n                      ) : (\n                        <h4>\n                          <span className=\"badge rounded-pill mb-1 me-2 bg-danger\">\n                            Not Approved\n                          </span>\n                        </h4>\n                      )}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            );\n          }\n        })}\n      </div>\n    );\n  }\n}\n\nfunction createExcelData(forms) {\n  let return_data = [];\n\n  for (let f of forms) {\n    let app = [];\n    let dis = [];\n    for (let a of f.approval) {\n      if (a.status === 1) {\n        app.push(a.approver.firstname);\n      } else if (a.status === 2) {\n        dis.push(a.approver.firstname);\n      }\n    }\n\n    let obj = {\n      \"Filled By\": f.filled_by,\n      \"Form Type\": f.form.name,\n      \"Approved By\": \"\".concat(app),\n      \"Dissaproved By\": \"\".concat(dis),\n      \"Date Filled\": Moment(f.date_submitted).format(\"DD/MM/YYYY - h:mm A\"),\n    };\n\n    return_data.push(obj);\n  }\n\n  return return_data;\n}\n\nfunction getApprovalStatuses(approval) {\n  var approvals = [];\n\n  for (let app of approval) {\n    if (app.status === 1) {\n      // console.log(app.status);\n      approvals.push({\n        status: \"bg-success\",\n        message: app.approver.firstname + \" Approved\",\n      });\n    } else if (app.status === 2) {\n      // console.log(app.firstname);\n      approvals.push({\n        status: \"bg-danger\",\n        message: app.approver.firstname + \" Disapproved\",\n      });\n    }\n  }\n\n  if (approvals.length === 0) {\n    approvals.push({\n      status: \"bg-warning\",\n      message: \"Approval Pending\",\n    });\n  }\n\n  return approvals;\n}\n\nexport default Dashboard;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Component } from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport \"./App.css\";\nimport Home from \"./components/Home\";\nimport HomeMod from \"./components/HomeMod\";\nimport FormApproval from \"./components/FormApproval\";\nimport Login from \"./components/Login\";\nimport Loading from \"./components/Loading\";\nimport Dashboard from \"./components/Dashboard\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentUser: null,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n      });\n    }\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    if (!currentUser) {\n      return (\n        <div className=\"App-Container container align-items-center justify-content-center\">\n          <Switch>\n            <Route\n              exact\n              path=\"/dashboard\"\n              component={() => <Dashboard />}\n            ></Route>\n            <Route path=\"/\" component={() => <Login />} />\n          </Switch>\n        </div>\n      );\n    } else if (currentUser && currentUser.role.level) {\n      return currentUser.role.level === 3 ? (\n        <div className=\"\">\n          <Switch>\n            <Route path=\"/\" component={() => <HomeMod />} />\n            {/* <Route exact path=\"/home\" component={() => <Home />} /> */}\n            <Route exact path=\"/form/:id\" component={() => <FormApproval />} />\n          </Switch>\n        </div>\n      ) : (\n        <div className=\"\">\n          <Switch>\n            <Route exact path=\"/\" component={() => <Home />} />\n            {/* <Route exact path=\"/home\" component={() => <Home />} /> */}\n            <Route exact path=\"/form/:id\" component={() => <FormApproval />} />\n          </Switch>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport Dashboard from \"./components/Dashboard\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n      <Switch>\n        <Route exact path=\"/dashboard\" component={() => <Dashboard />}></Route>\n      </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = {\n  ADDR: \"\",\n};\n"],"sourceRoot":""}